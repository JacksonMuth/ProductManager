{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\muthj\\\\Desktop\\\\codingdojo\\\\MERN\\\\FullStack\\\\productmanager\\\\productmanager\\\\src\\\\components\\\\EditProduct.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Form from './Form';\nimport { navigate } from '@reach/router';\n\nconst EditProduct = props => {\n  const [product, setProduct] = useState({\n    title: \"\",\n    price: \"\",\n    description: \"\"\n  });\n  const [error, setError] = useState({\n    title: \"\",\n    price: \"\",\n    description: \"\"\n  });\n  useEffect(() => {\n    axios.get(`http://localhost:8000/api/products/${props.id}`).then(response => {\n      setProduct(response.data.results);\n    }).catch(err => {\n      console.log(err);\n    });\n  }, []);\n\n  const submitData = () => {\n    axios.put(`http://localhost:8000/api/products/${props.id}`, product).then(response => {\n      console.log(response);\n\n      if (response.data.message == \"success\") {\n        setUser({\n          title: \"\",\n          price: \"\",\n          description: \"\"\n        });\n        navigate(\"/\");\n      } else {\n        setError({\n          title: \"Something wrong\",\n          price: \"u mess up\",\n          description: \"no\"\n        });\n      }\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }, \"Edit Product\"), /*#__PURE__*/React.createElement(Form, {\n    data: product,\n    error: error,\n    setData: setproduct,\n    submitData: submitData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }));\n};\n\nexport default EditProduct;","map":{"version":3,"sources":["C:/Users/muthj/Desktop/codingdojo/MERN/FullStack/productmanager/productmanager/src/components/EditProduct.js"],"names":["React","useState","useEffect","axios","Form","navigate","EditProduct","props","product","setProduct","title","price","description","error","setError","get","id","then","response","data","results","catch","err","console","log","submitData","put","message","setUser","setproduct"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,SAASC,QAAT,QAAyB,eAAzB;;AAEA,MAAMC,WAAW,GAAGC,KAAK,IAAI;AACzB,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBR,QAAQ,CAAC;AACnCS,IAAAA,KAAK,EAAE,EAD4B;AAEnCC,IAAAA,KAAK,EAAE,EAF4B;AAGnCC,IAAAA,WAAW,EAAE;AAHsB,GAAD,CAAtC;AAKA,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBb,QAAQ,CAAC;AAC/BS,IAAAA,KAAK,EAAE,EADwB;AAE/BC,IAAAA,KAAK,EAAE,EAFwB;AAG/BC,IAAAA,WAAW,EAAE;AAHkB,GAAD,CAAlC;AAMAV,EAAAA,SAAS,CAAC,MAAM;AACZC,IAAAA,KAAK,CAACY,GAAN,CAAW,sCAAqCR,KAAK,CAACS,EAAG,EAAzD,EACKC,IADL,CACUC,QAAQ,IAAI;AACdT,MAAAA,UAAU,CAACS,QAAQ,CAACC,IAAT,CAAcC,OAAf,CAAV;AACH,KAHL,EAIKC,KAJL,CAIWC,GAAG,IAAI;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH,KANL;AAOH,GARQ,EAQN,EARM,CAAT;;AAUA,QAAMG,UAAU,GAAG,MAAM;AACrBtB,IAAAA,KAAK,CAACuB,GAAN,CAAW,sCAAqCnB,KAAK,CAACS,EAAG,EAAzD,EAA4DR,OAA5D,EACKS,IADL,CACUC,QAAQ,IAAI;AACdK,MAAAA,OAAO,CAACC,GAAR,CAAYN,QAAZ;;AACA,UAAGA,QAAQ,CAACC,IAAT,CAAcQ,OAAd,IAAyB,SAA5B,EAAsC;AAClCC,QAAAA,OAAO,CAAC;AACJlB,UAAAA,KAAK,EAAE,EADH;AAEJC,UAAAA,KAAK,EAAE,EAFH;AAGJC,UAAAA,WAAW,EAAE;AAHT,SAAD,CAAP;AAKAP,QAAAA,QAAQ,CAAC,GAAD,CAAR;AACH,OAPD,MAOO;AACHS,QAAAA,QAAQ,CAAC;AACLJ,UAAAA,KAAK,EAAE,iBADF;AAELC,UAAAA,KAAK,EAAE,WAFF;AAGLC,UAAAA,WAAW,EAAE;AAHR,SAAD,CAAR;AAKH;AACJ,KAjBL;AAkBH,GAnBD;;AAqBA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI,oBAAC,IAAD;AAAM,IAAA,IAAI,EAAGJ,OAAb;AAAuB,IAAA,KAAK,EAAGK,KAA/B;AAAuC,IAAA,OAAO,EAAGgB,UAAjD;AAA6D,IAAA,UAAU,EAAGJ,UAA1E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CADJ;AAMH,CAjDD;;AAmDA,eAAenB,WAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\nimport Form from './Form'\r\nimport { navigate } from '@reach/router';\r\n\r\nconst EditProduct = props => {\r\n    const [product, setProduct] = useState({\r\n        title: \"\",\r\n        price: \"\",\r\n        description: \"\"\r\n    });\r\n    const [error, setError] = useState({\r\n        title: \"\",\r\n        price: \"\",\r\n        description: \"\"\r\n    })\r\n    \r\n    useEffect(() => {\r\n        axios.get(`http://localhost:8000/api/products/${props.id}`)\r\n            .then(response => {\r\n                setProduct(response.data.results);\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            })\r\n    }, [])\r\n\r\n    const submitData = () => {\r\n        axios.put(`http://localhost:8000/api/products/${props.id}`, product)\r\n            .then(response => {\r\n                console.log(response);\r\n                if(response.data.message == \"success\"){\r\n                    setUser({\r\n                        title: \"\",\r\n                        price: \"\",\r\n                        description: \"\"\r\n                    })\r\n                    navigate(\"/\");\r\n                } else {\r\n                    setError({\r\n                        title: \"Something wrong\",\r\n                        price: \"u mess up\",\r\n                        description: \"no\"\r\n                    });\r\n                }\r\n            })\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h2>Edit Product</h2>\r\n            <Form data={ product } error={ error } setData={ setproduct} submitData={ submitData } />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default EditProduct\r\n"]},"metadata":{},"sourceType":"module"}