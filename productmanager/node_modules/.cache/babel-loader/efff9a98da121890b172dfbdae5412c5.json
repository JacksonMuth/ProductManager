{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\muthj\\\\Desktop\\\\codingdojo\\\\MERN\\\\FullStack\\\\productmanager\\\\productmanager\\\\src\\\\components\\\\CreateProduct.js\";\nimport React from 'react';\nimport { useState } from 'react';\nimport axios from 'axios';\nimport Form from './Form';\nimport { navigate } from '@reach/router';\n\nconst CreateProduct = () => {\n  const [product, setProduct] = useState({\n    title: \"\",\n    price: \"\",\n    description: \"\"\n  });\n  const [error, setError] = useState({\n    title: \"\",\n    price: \"\",\n    description: \"\"\n  });\n\n  const submitData = () => {\n    axios.post(\"http://localhost:8000/api/products\", product).then(response => {\n      if (response.data.message === \"success\") {\n        setProduct({\n          title: \"\",\n          price: \"\",\n          description: \"\"\n        });\n        navigate(\"/\");\n      } else {\n        const { ...currErrors\n        } = error;\n        console.log(response.data.results);\n\n        if (response.data.results.errors.title) {\n          currErrors.title = response.data.results.errors.title.properties.message;\n        } else {\n          currErrors.title = \"\";\n        }\n\n        if (response.data.results.errors.price) {\n          currErrors.price = response.data.results.errors.price.properties.message;\n        } else {\n          currErrors.price = \"\";\n        }\n\n        if (response.data.results.errors.description) {\n          currErrors.description = response.data.results.errors.description.properties.message;\n        } else {\n          currErrors.description = \"\";\n        }\n\n        setError(currErrors);\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, \"Create New Product\"), /*#__PURE__*/React.createElement(Form, {\n    data: product,\n    setData: setProduct,\n    submitData: submitData,\n    error: error,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }));\n};\n\nexport default CreateProduct;","map":{"version":3,"sources":["C:/Users/muthj/Desktop/codingdojo/MERN/FullStack/productmanager/productmanager/src/components/CreateProduct.js"],"names":["React","useState","axios","Form","navigate","CreateProduct","product","setProduct","title","price","description","error","setError","submitData","post","then","response","data","message","currErrors","console","log","results","errors","properties","catch","err"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { useState } from 'react'\r\nimport axios from 'axios';\r\nimport Form from './Form';\r\nimport { navigate } from '@reach/router';\r\n\r\nconst CreateProduct = () => {\r\n    const [product, setProduct] = useState({\r\n        title: \"\",\r\n        price: \"\",\r\n        description: \"\"\r\n    });\r\n\r\n    const [error, setError] = useState({\r\n        title: \"\",\r\n        price: \"\",\r\n        description: \"\"\r\n    })\r\n\r\n    const submitData = () => {\r\n        axios.post(\"http://localhost:8000/api/products\", product)\r\n            .then(response => {\r\n                if(response.data.message === \"success\"){\r\n                    setProduct({\r\n                        title: \"\",\r\n                        price: \"\",\r\n                        description: \"\"\r\n                    })\r\n                    navigate(\"/\");\r\n                }\r\n                else {\r\n                    const {...currErrors} = error;\r\n                    console.log(response.data.results)\r\n                    if (response.data.results.errors.title){\r\n                        \r\n                       currErrors.title = response.data.results.errors.title.properties.message\r\n                    }\r\n                    else {\r\n                        currErrors.title = \"\";\r\n                    }\r\n                    if (response.data.results.errors.price){\r\n                       currErrors.price = response.data.results.errors.price.properties.message\r\n                    }\r\n                    else {\r\n                        currErrors.price = \"\";\r\n                    }\r\n                    if (response.data.results.errors.description){\r\n                       currErrors.description = response.data.results.errors.description.properties.message\r\n                    }\r\n                    else {\r\n                        currErrors.description = \"\";\r\n                    }\r\n                    setError(currErrors);\r\n                }\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            })\r\n    }\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n            <h1>Create New Product</h1>\r\n            <Form data={ product } setData={setProduct} submitData={submitData} error={error}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CreateProduct\r\n"]},"metadata":{},"sourceType":"module"}