{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\muthj\\\\Desktop\\\\codingdojo\\\\MERN\\\\FullStack\\\\productmanager\\\\productmanager\\\\src\\\\components\\\\CreateProduct.js\";\nimport { useState } from 'react';\nimport axios from 'axios';\nimport Form from './Form';\nimport { navigate } from '@reach/router';\n\nconst CreateProduct = () => {\n  const [product, setProduct] = useState({\n    title: \"\",\n    price: \"\",\n    description: \"\"\n  });\n  const [error, setError] = useState({\n    title: \"\",\n    price: \"\",\n    description: \"\"\n  });\n\n  const submitData = () => {\n    axios.post(\"http://localhost:8000/api/products\", product).then(response => {\n      navigate(\"/\");\n\n      if (response.data.message == \"success\") {\n        navigate(\"/\");\n      } else {\n        console.log(response.data.results);\n\n        if (response.data.results.error.title) {\n          setError({ ...error,\n            name: response.data.results.error.title.properties.message\n          });\n        }\n\n        if (response.data.results.error.price) {\n          setError({ ...error,\n            name: response.data.results.error.price.properties.message\n          });\n        }\n\n        if (response.data.results.error.description) {\n          setError({ ...error,\n            name: response.data.results.error.description.properties.message\n          });\n        }\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    data: product,\n    setData: setProduct,\n    submitData: submitData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }));\n};\n\nexport default CreateProduct;","map":{"version":3,"sources":["C:/Users/muthj/Desktop/codingdojo/MERN/FullStack/productmanager/productmanager/src/components/CreateProduct.js"],"names":["useState","axios","Form","navigate","CreateProduct","product","setProduct","title","price","description","error","setError","submitData","post","then","response","data","message","console","log","results","name","properties","catch","err"],"mappings":";AAAA,SAAQA,QAAR,QAAuB,OAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,SAASC,QAAT,QAAyB,eAAzB;;AAEA,MAAMC,aAAa,GAAG,MAAM;AACxB,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBN,QAAQ,CAAC;AACnCO,IAAAA,KAAK,EAAE,EAD4B;AAEnCC,IAAAA,KAAK,EAAE,EAF4B;AAGnCC,IAAAA,WAAW,EAAE;AAHsB,GAAD,CAAtC;AAMA,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBX,QAAQ,CAAC;AAC/BO,IAAAA,KAAK,EAAE,EADwB;AAE/BC,IAAAA,KAAK,EAAE,EAFwB;AAG/BC,IAAAA,WAAW,EAAE;AAHkB,GAAD,CAAlC;;AAMA,QAAMG,UAAU,GAAG,MAAM;AACrBX,IAAAA,KAAK,CAACY,IAAN,CAAW,oCAAX,EAAiDR,OAAjD,EACKS,IADL,CACUC,QAAQ,IAAI;AACdZ,MAAAA,QAAQ,CAAC,GAAD,CAAR;;AACA,UAAGY,QAAQ,CAACC,IAAT,CAAcC,OAAd,IAAyB,SAA5B,EAAsC;AAClCd,QAAAA,QAAQ,CAAC,GAAD,CAAR;AACH,OAFD,MAGK;AACDe,QAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAQ,CAACC,IAAT,CAAcI,OAA1B;;AACA,YAAIL,QAAQ,CAACC,IAAT,CAAcI,OAAd,CAAsBV,KAAtB,CAA4BH,KAAhC,EAAsC;AAClCI,UAAAA,QAAQ,CAAC,EACL,GAAGD,KADE;AAELW,YAAAA,IAAI,EAAEN,QAAQ,CAACC,IAAT,CAAcI,OAAd,CAAsBV,KAAtB,CAA4BH,KAA5B,CAAkCe,UAAlC,CAA6CL;AAF9C,WAAD,CAAR;AAIH;;AACD,YAAIF,QAAQ,CAACC,IAAT,CAAcI,OAAd,CAAsBV,KAAtB,CAA4BF,KAAhC,EAAsC;AAClCG,UAAAA,QAAQ,CAAC,EACL,GAAGD,KADE;AAELW,YAAAA,IAAI,EAAEN,QAAQ,CAACC,IAAT,CAAcI,OAAd,CAAsBV,KAAtB,CAA4BF,KAA5B,CAAkCc,UAAlC,CAA6CL;AAF9C,WAAD,CAAR;AAIH;;AACD,YAAIF,QAAQ,CAACC,IAAT,CAAcI,OAAd,CAAsBV,KAAtB,CAA4BD,WAAhC,EAA4C;AACxCE,UAAAA,QAAQ,CAAC,EACL,GAAGD,KADE;AAELW,YAAAA,IAAI,EAAEN,QAAQ,CAACC,IAAT,CAAcI,OAAd,CAAsBV,KAAtB,CAA4BD,WAA5B,CAAwCa,UAAxC,CAAmDL;AAFpD,WAAD,CAAR;AAIH;AACJ;AACJ,KA3BL,EA4BKM,KA5BL,CA4BWC,GAAG,IAAI;AACVN,MAAAA,OAAO,CAACC,GAAR,CAAYK,GAAZ;AACH,KA9BL;AA+BH,GAhCD;;AAqCA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,IAAD;AAAM,IAAA,IAAI,EAAGnB,OAAb;AAAuB,IAAA,OAAO,EAAEC,UAAhC;AAA4C,IAAA,UAAU,EAAEM,UAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ;AAKH,CAvDD;;AAyDA,eAAeR,aAAf","sourcesContent":["import {useState} from 'react'\r\nimport axios from 'axios';\r\nimport Form from './Form';\r\nimport { navigate } from '@reach/router';\r\n\r\nconst CreateProduct = () => {\r\n    const [product, setProduct] = useState({\r\n        title: \"\",\r\n        price: \"\",\r\n        description: \"\"\r\n    });\r\n\r\n    const [error, setError] = useState({\r\n        title: \"\",\r\n        price: \"\",\r\n        description: \"\"\r\n    })\r\n\r\n    const submitData = () => {\r\n        axios.post(\"http://localhost:8000/api/products\", product)\r\n            .then(response => {\r\n                navigate(\"/\")\r\n                if(response.data.message == \"success\"){\r\n                    navigate(\"/\");\r\n                }\r\n                else {\r\n                    console.log(response.data.results);\r\n                    if (response.data.results.error.title){\r\n                        setError({\r\n                            ...error,\r\n                            name: response.data.results.error.title.properties.message\r\n                        })\r\n                    }\r\n                    if (response.data.results.error.price){\r\n                        setError({\r\n                            ...error,\r\n                            name: response.data.results.error.price.properties.message\r\n                        })\r\n                    }\r\n                    if (response.data.results.error.description){\r\n                        setError({\r\n                            ...error,\r\n                            name: response.data.results.error.description.properties.message\r\n                        })\r\n                    }\r\n                }\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            })\r\n    }\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n            <Form data={ product } setData={setProduct} submitData={submitData}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CreateProduct\r\n"]},"metadata":{},"sourceType":"module"}