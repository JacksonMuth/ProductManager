{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\muthj\\\\Desktop\\\\codingdojo\\\\MERN\\\\FullStack\\\\productmanager\\\\productmanager\\\\src\\\\components\\\\EditProduct.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Form from './Form';\nimport { navigate } from '@reach/router';\n\nconst EditProduct = props => {\n  const [product, setProduct] = useState({\n    title: \"\",\n    price: \"\",\n    description: \"\"\n  });\n  const [error, setError] = useState({\n    title: \"\",\n    price: \"\",\n    description: \"\"\n  });\n  useEffect(() => {\n    axios.get(`http://localhost:8000/api/products/${props.id}`).then(response => {\n      setProduct(response.data.results);\n    }).catch(err => {\n      console.log(err);\n    });\n  }, []);\n\n  const submitData = () => {\n    axios.put(`http://localhost:8000/api/products/${props.id}`, product).then(response => {\n      console.log(response);\n\n      if (response.data.message == \"success\") {\n        setProduct({\n          title: \"\",\n          price: \"\",\n          description: \"\"\n        });\n        navigate(\"/\");\n      } else {\n        const { ...currErrors\n        } = error;\n        console.log(response.data.results);\n\n        if (response.data.results.errors.title) {\n          currErrors.title = response.data.results.errors.title.properties.message;\n        } else {\n          currErrors.title = \"\";\n        }\n\n        if (response.data.results.errors.price) {\n          currErrors.price = response.data.results.errors.price.properties.message;\n        } else {\n          currErrors.price = \"\";\n        }\n\n        if (response.data.results.errors.description) {\n          currErrors.description = response.data.results.errors.description.properties.message;\n        } else {\n          currErrors.description = \"\";\n        }\n\n        setError(currErrors);\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, \"Edit Product\"), /*#__PURE__*/React.createElement(Form, {\n    data: product,\n    error: error,\n    setData: setProduct,\n    submitData: submitData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }));\n};\n\nexport default EditProduct;","map":{"version":3,"sources":["C:/Users/muthj/Desktop/codingdojo/MERN/FullStack/productmanager/productmanager/src/components/EditProduct.js"],"names":["React","useState","useEffect","axios","Form","navigate","EditProduct","props","product","setProduct","title","price","description","error","setError","get","id","then","response","data","results","catch","err","console","log","submitData","put","message","currErrors","errors","properties"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\nimport Form from './Form'\r\nimport { navigate } from '@reach/router';\r\n\r\nconst EditProduct = props => {\r\n    const [product, setProduct] = useState({\r\n        title: \"\",\r\n        price: \"\",\r\n        description: \"\"\r\n    });\r\n    const [error, setError] = useState({\r\n        title: \"\",\r\n        price: \"\",\r\n        description: \"\"\r\n    })\r\n    \r\n    useEffect(() => {\r\n        axios.get(`http://localhost:8000/api/products/${props.id}`)\r\n            .then(response => {\r\n                setProduct(response.data.results);\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            })\r\n    }, [])\r\n\r\n    const submitData = () => {\r\n        axios.put(`http://localhost:8000/api/products/${props.id}`, product)\r\n            .then(response => {\r\n                console.log(response);\r\n                if(response.data.message == \"success\"){\r\n                    setProduct({\r\n                        title: \"\",\r\n                        price: \"\",\r\n                        description: \"\"\r\n                    })\r\n                    navigate(\"/\");\r\n                } else {\r\n                    const {...currErrors} = error;\r\n                    console.log(response.data.results)\r\n                    if (response.data.results.errors.title){\r\n                        \r\n                       currErrors.title = response.data.results.errors.title.properties.message\r\n                    }\r\n                    else {\r\n                        currErrors.title = \"\";\r\n                    }\r\n                    if (response.data.results.errors.price){\r\n                       currErrors.price = response.data.results.errors.price.properties.message\r\n                    }\r\n                    else {\r\n                        currErrors.price = \"\";\r\n                    }\r\n                    if (response.data.results.errors.description){\r\n                       currErrors.description = response.data.results.errors.description.properties.message\r\n                    }\r\n                    else {\r\n                        currErrors.description = \"\";\r\n                    }\r\n                    setError(currErrors);\r\n                }\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            })\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h2>Edit Product</h2>\r\n            <Form data={ product } error={ error } setData={ setProduct} submitData={ submitData } />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default EditProduct\r\n"]},"metadata":{},"sourceType":"module"}